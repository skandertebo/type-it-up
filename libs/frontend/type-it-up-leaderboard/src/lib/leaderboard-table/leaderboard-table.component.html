<!-- eslint-disable @angular-eslint/template/click-events-have-key-events -->
<div class="w-full relative">
  <div class="w-24 absolute flex justify-end items-center -top-6 right-0">
    <div
      role="button"
      tabindex="0"
      class="flex justify-center items-center rounded-full cursor-pointer active:scale-90"
      (click)="previousPage()"
    >
      <img
        src="/shared-assets/images/arrow.svg"
        alt="arrow"
        class="rotate-90"
      />
    </div>
    <div
      role="button"
      tabindex="0"
      class="flex justify-center items-center rounded-full cursor-pointer active:scale-90"
      (click)="nextPage()"
    >
      <img
        src="/shared-assets/images/arrow.svg"
        alt="arrow"
        class="-rotate-90"
      />
    </div>
  </div>
  <table class="table-auto w-full text-center text-primaryText font-iceland">
    <thead class="text-xl uppercase">
      <tr>
        <th scope="col" class="px-6 py-3">Rank</th>
        <th scope="col" class="px-6 py-3">Nickname</th>
        <th scope="col" class="px-6 py-3">
          <div
            role="button"
            tabindex="0"
            class="flex justify-center items-center"
            (click)="onSortClick(LeaderboardSortType.BestScore)"
          >
            <span>Best Score</span>
            <div class="flex flex-col justify-end items-center">
              <img
                [src]="getArrowIcon(LeaderboardSortType.BestScore)"
                alt="arrow"
                class="cursor-pointer -scale-90"
              />
            </div>
          </div>
        </th>
        <th scope="col" class="px-6 py-3">
          <div
            role="button"
            tabindex="0"
            class="flex justify-center items-center"
            (click)="onSortClick(LeaderboardSortType.AverageScore)"
          >
            <span>Avg Score</span>
            <div class="flex flex-col justify-end items-center">
              <img
                [src]="getArrowIcon(LeaderboardSortType.AverageScore)"
                alt="arrow"
                class="cursor-pointer"
              />
            </div>
          </div>
        </th>
        <th scope="col" class="pr-8 py-3">Avg Speed</th>
        <th scope="col" class="pr-10 py-3">Avg Acc</th>
      </tr>
    </thead>
  </table>
  <div class="overflow-y-scroll h-52 scroll-bar-custom">
    <table class="table-auto w-full text-center text-primaryText font-iceland">
      <tbody class="bg-secondaryBackground text-md w-full">
        @for(entry of entries; track entry.user.id; let i = $index ) {
        <tr class="border-b-[1px] border-b-primaryText text-2xl w-full">
          <td class="pl-5 py-2 font-medium w-auto">{{ getRank(i) }}</td>
          <td class="px-0 py-2 w-auto">{{ entry.user.username }}</td>
          <td class="px-0 py-2 w-auto">
            {{ entry.bestScore | number : '1.2-2' }}
          </td>
          <td class="pl-12 py-2 w-auto">
            {{ entry.averageScore | number : '1.2-2' }}
          </td>
          <td class="px-0 py-2 w-auto">{{ entry.averageWpm }} wpm</td>
          <td class="px-0 py-2 w-auto">
            {{ entry.averageAccuracy | percent : '1.2-2' }}
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>
